<Window x:Class="TypoMayhem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TypoMayhem"
        xmlns:buttons="clr-namespace:TypoMayhem.Buttons"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Path Stretch="Uniform"
              VerticalAlignment="Top"
              Margin="0,15,0,0"
              Fill="#2a84f1"
              Height="25"
              Width="25"
              Data="m 0,0 -9.885,-1.456 0,-7.155 L 0,-8.533 0,0 z m -17.998,-2.548 0.007,-6.117 7.188,0.054 0,7.03 -7.195,-0.967 z m 0.005,-6.843 10e-4,-6.12 7.189,-0.985 0,7.105 -7.19,0 z m 8.108,-0.114 0,-7.141 L 0,-18 l 0.002,8.495 -9.887,0 z"/>
        <ListBox x:Name="sidebar"
                 SelectionMode="Single"
                 SelectionChanged="sidebar_SelectionChanged"
                 Grid.Column="0"
                 BorderThickness="0"
                 Grid.RowSpan="2"
                 Margin="0,50,0,50">

            <buttons:NavButton x:Name="btnMainWindow" Margin="3" Padding="6" Icon="M -56.625 24.75 C -58.28185 24.75 -59.625 26.09315 -59.625 27.75 L -59.625 39.75 C -59.625 41.4069 -58.28185 42.75 -56.625 42.75 L -44.625 42.75 C -42.9681 42.75 -41.625 41.4069 -41.625 39.75 L -41.625 27.75 C -41.625 26.09315 -42.9681 24.75 -44.625 24.75 L -56.625 24.75 z M -56.625 26.75 L -44.625 26.75 C -44.0727 26.75 -43.625 27.19772 -43.625 27.75 L -43.625 39.75 C -43.625 40.3023 -44.0727 40.75 -44.625 40.75 L -56.625 40.75 C -57.17728 40.75 -57.625 40.3023 -57.625 39.75 L -57.625 27.75 C -57.625 27.19772 -57.17728 26.75 -56.625 26.75 z M -54.625 28.75 C -55.17728 28.75 -55.625 29.19772 -55.625 29.75 C -55.625 30.30228 -55.17728 30.75 -54.625 30.75 L -46.625 30.75 C -46.0727 30.75 -45.625 30.30228 -45.625 29.75 C -45.625 29.19772 -46.0727 28.75 -46.625 28.75 L -54.625 28.75 z M -54.625 32.75 C -55.17728 32.75 -55.625 33.1977 -55.625 33.75 C -55.625 34.3023 -55.17728 34.75 -54.625 34.75 C -54.07272 34.75 -53.625 34.3023 -53.625 33.75 C -53.625 33.1977 -54.07272 32.75 -54.625 32.75 z M -50.625 32.75 C -51.1773 32.75 -51.625 33.1977 -51.625 33.75 C -51.625 34.3023 -51.1773 34.75 -50.625 34.75 C -50.0727 34.75 -49.625 34.3023 -49.625 33.75 C -49.625 33.1977 -50.0727 32.75 -50.625 32.75 z M -46.625 32.75 C -47.1773 32.75 -47.625 33.1977 -47.625 33.75 C -47.625 34.3023 -47.1773 34.75 -46.625 34.75 C -46.0727 34.75 -45.625 34.3023 -45.625 33.75 C -45.625 33.1977 -46.0727 32.75 -46.625 32.75 z M -54.625 36.75 C -55.17728 36.75 -55.625 37.1977 -55.625 37.75 C -55.625 38.3023 -55.17728 38.75 -54.625 38.75 C -54.07272 38.75 -53.625 38.3023 -53.625 37.75 C -53.625 37.1977 -54.07272 36.75 -54.625 36.75 z M -50.625 36.75 C -51.1773 36.75 -51.625 37.1977 -51.625 37.75 C -51.625 38.3023 -51.1773 38.75 -50.625 38.75 C -50.0727 38.75 -49.625 38.3023 -49.625 37.75 C -49.625 37.1977 -50.0727 36.75 -50.625 36.75 z M -46.625 36.75 C -47.1773 36.75 -47.625 37.1977 -47.625 37.75 C -47.625 38.3023 -47.1773 38.75 -46.625 38.75 C -46.0727 38.75 -45.625 38.3023 -45.625 37.75 C -45.625 37.1977 -46.0727 36.75 -46.625 36.75 z  "/>
            <buttons:NavButton x:Name="btnEvaluate" Navlink="/Pages/TypingEvaluation.xaml" Margin="3" Padding="6" Icon="M 56.75 21.09375 C 55.75886 21.09375 54.9375 21.915107 54.9375 22.90625 L 54.9375 23.8125 L 53.90625 23.8125 C 52.188 23.8125 50.78125 25.219249 50.78125 26.9375 L 50.78125 32.78125 C 50.78125 34.499501 52.188 35.90625 53.90625 35.90625 L 54.9375 35.90625 L 54.9375 37.25 C 54.9375 38.241143 55.75886 39.0625 56.75 39.0625 L 65.1875 39.0625 C 66.17864 39.0625 67 38.241143 67 37.25 L 67 35.90625 L 67.90625 35.90625 C 69.6245 35.90625 71.03125 34.499501 71.03125 32.78125 L 71.03125 26.9375 C 71.03125 25.219249 69.6245 23.8125 67.90625 23.8125 L 66.96875 23.8125 L 66.96875 22.90625 C 66.96875 21.915107 66.14739 21.09375 65.15625 21.09375 L 56.75 21.09375 z M 56.75 22.78125 L 65.15625 22.78125 C 65.23505 22.78125 65.28125 22.8275 65.28125 22.90625 L 65.28125 23.8125 L 56.625 23.8125 L 56.625 22.90625 C 56.625 22.8275 56.6713 22.78125 56.75 22.78125 z M 53.90625 25.5 L 54.9375 25.5 L 66.96875 25.5 L 67.90625 25.5 C 68.71211 25.5 69.3125 26.131644 69.3125 26.9375 L 69.3125 32.78125 C 69.3125 33.587106 68.71211 34.21875 67.90625 34.21875 L 67 34.21875 L 67 33.375 C 67 32.383857 66.17864 31.5625 65.1875 31.5625 L 56.75 31.5625 C 55.75886 31.5625 54.9375 32.383857 54.9375 33.375 L 54.9375 34.21875 L 53.90625 34.21875 C 53.10039 34.21875 52.5 33.587106 52.5 32.78125 L 52.5 26.9375 C 52.5 26.131644 53.10039 25.5 53.90625 25.5 z M 56 27.03125 C 55.35589 27.163465 54.875 27.754984 54.875 28.4375 C 54.875 29.217518 55.50122 29.875 56.28125 29.875 C 57.06127 29.875 57.71875 29.217518 57.71875 28.4375 C 57.71875 27.657482 57.06127 27.03125 56.28125 27.03125 C 56.183746 27.03125 56.092016 27.012362 56 27.03125 z M 56.75 33.25 L 65.1875 33.25 C 65.2663 33.25 65.28125 33.29625 65.28125 33.375 L 65.28125 34.21875 L 65.28125 35.90625 L 65.28125 37.25 C 65.28125 37.32875 65.2662 37.375 65.1875 37.375 L 56.75 37.375 C 56.6713 37.375 56.625 37.32875 56.625 37.25 L 56.625 35.90625 L 56.625 34.21875 L 56.625 33.375 C 56.625 33.29625 56.6713 33.25 56.75 33.25 z "/>
        </ListBox>
        <Frame Grid.Column="1"
               Grid.RowSpan="3"
               x:Name="navframe"/>

        <StackPanel Style="{StaticResource StartStopStackpanel}"
                    x:Name="stkHeader">
            <Button x:Name="btnStart"
                    Content="Start"
                    Command="{Binding StartTypingCommand}"
                    Style="{StaticResource ButtonStyle}"/>
            <Button x:Name="btnStop"
                    Content="Stop"
                    Command="{Binding StopTypingCommand}"
                    Style="{StaticResource ButtonStyle}"/>
        </StackPanel>
        <StackPanel Grid.Row="0"
                    Grid.Column="1"
                    x:Name="stkCombobox"
                    Margin="0,0,20,0"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal">
            <StackPanel>
                <Label Content="Course:"/>
                <ComboBox x:Name="cbCourses"
                          Style="{StaticResource CourseComboboxStyle}"
                          ItemsSource="{Binding TypingCourses}"
                          DisplayMemberPath="CourseName"
                          SelectedItem="{Binding SelectedCourse, Mode=TwoWay}">
                </ComboBox>
            </StackPanel>
            <StackPanel HorizontalAlignment="Right">
                <Label Content="Duration:"/>
                <ComboBox x:Name="cbSessionDuration" 
                          Style="{StaticResource SessionDurationCombobox}"
                          ItemsSource="{Binding SessionDurations}"
                          SelectedValue="{Binding SessionDuration, Mode=TwoWay}">
                </ComboBox>
            </StackPanel>
        </StackPanel>
        <Border x:Name="animatedBorder"
                Style="{StaticResource AnimatedBorderStyle}">
            <Border.Background>
                <SolidColorBrush Color="#FFF3E5F5"/>
            </Border.Background>
            <Border.Triggers>
                <EventTrigger RoutedEvent="Loaded">
                    <!--Check definition of Storyboard-->
                    <BeginStoryboard>
                        <Storyboard>
                            <ColorAnimation Duration="0:0:15" 
                                            Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" 
                                            From="#FFF3E5F5" To="#FFC3E5F5" 
                                            AutoReverse="True" 
                                            RepeatBehavior="Forever"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Border.Triggers>
            <TextBlock x:Name="txtMain" 
                       Text="{Binding CurrentText}" 
                       Style="{StaticResource TextMainStyle}">
                <TextBlock.Effect>
                    <DropShadowEffect Color="Black" Direction="320" ShadowDepth="3" Opacity="0.5"/>
                </TextBlock.Effect>
            </TextBlock>
        </Border>
        <StatusBar Style="{StaticResource StatusbarStyle}"
                   x:Name="statusbar">
            <Label Content="Remaining Time:"/>
            <StatusBarItem>
                <TextBlock x:Name="txtRemainingTime"
                           Text="{Binding RemainingTime, StringFormat='{}{0:mm\\:ss}'}"
                           Style="{StaticResource RemainingTimeStyle}"/>
            </StatusBarItem>
            <Label Content="Errors:"/>
            <StatusBarItem>
                <TextBlock Text="{Binding ErrorCount}" />
            </StatusBarItem>
            <StatusBarItem>
                <StackPanel Orientation="Horizontal"
                            x:Name="stkFooter"
                            Margin="130,0,0,0">
                    <Button Content="New Course"
                            x:Name="btnNewCourse"
                            Style="{StaticResource CourseButtonsStyle}"
                            Command="{Binding NewCourseCommand}"/>
                    <Button Content="Edit Course"
                            x:Name="btnEditCourse"
                            Style="{StaticResource CourseButtonsStyle}"
                            Command="{Binding EditCourseCommand}"/>
                    <Button Content="Delete Course"
                            x:Name="btnDeleteCourse"                            
                            Style="{StaticResource CourseButtonsStyle}"
                            Command="{Binding DeleteCourseCommand}"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
